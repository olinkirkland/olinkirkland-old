<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Localization - Olin Kirkland</title><meta name="description" content="I usually just hardcode the text on buttons, menus, and text fields. This is fast and for most of my&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://olinkirk.land/localization/"><link rel="alternate" type="application/atom+xml" href="https://olinkirk.land/feed.xml"><link rel="alternate" type="application/json" href="https://olinkirk.land/feed.json"><meta property="og:title" content="Localization"><meta property="og:image" content="https://olinkirk.land/media/posts/19/beeplugin_languages.png"><meta property="og:site_name" content="Olin Kirkland"><meta property="og:description" content="I usually just hardcode the text on buttons, menus, and text fields. This is fast and for most of my&hellip;"><meta property="og:url" content="https://olinkirk.land/localization/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@itsolinkirkland"><meta name="twitter:title" content="Localization"><meta name="twitter:description" content="I usually just hardcode the text on buttons, menus, and text fields. This is fast and for most of my&hellip;"><meta name="twitter:image" content="https://olinkirk.land/media/posts/19/beeplugin_languages.png"><link rel="shortcut icon" href="https://olinkirk.land/media/website/icons8-traveler-90.png" type="image/png"><link rel="shortcut icon" href="https://olinkirk.land/media/website/icons8-traveler-90.png" type="image/png"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:var(--body-font);--logo-font:var(--body-font);--menu-font:var(--body-font)}</style><link rel="stylesheet" href="https://olinkirk.land/assets/css/style.css?v=c90c49b2f3e35b54180452dc9eb8b947"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://olinkirk.land/localization/"},"headline":"Localization","datePublished":"2021-07-07T22:18","dateModified":"2021-07-07T23:56","image":{"@type":"ImageObject","url":"https://olinkirk.land/media/posts/19/beeplugin_languages.png","height":311,"width":600},"description":"I usually just hardcode the text on buttons, menus, and text fields. This is fast and for most of my&hellip;","author":{"@type":"Person","name":"Olin Kirkland"},"publisher":{"@type":"Organization","name":"Olin Kirkland"}}</script></head><body><header class="header" id="js-header"><a href="https://olinkirk.land/" class="logo">Olin Kirkland</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">[MISSING TRANSLATION]</span></span></button><ul class="navbar__menu"><li><a href="https://olinkirk.land/" target="_self">Home</a></li><li><a href="https://olinkirk.land/about/" target="_self">About</a></li><li><a href="https://olinkirk.land/games-and-apps/" target="_self">Games and Apps</a></li><li><a href="https://olinkirk.land/exhibits/" target="_self">Exhibits</a></li><li><a href="https://olinkirk.land/tag/projects/" target="_self">Projects</a></li><li><a href="https://olinkirk.land/tag/blog/" target="_self">Blog</a></li></ul></nav></header><main><div class="wrapper"><article class="post"><header class="post__header"><a href="https://olinkirk.land/tag/worldmaker/" class="post__maintag">Worldmaker</a><h1 class="post__title">Localization</h1><div class="post__meta"><time datetime="2021-07-07T22:18">July 7, 2021</time></div></header><figure class="post__featured-image"><img src="https://olinkirk.land/media/posts/19/beeplugin_languages.png" srcset="https://olinkirk.land/media/posts/19/responsive/beeplugin_languages-xs.png 300w, https://olinkirk.land/media/posts/19/responsive/beeplugin_languages-sm.png 480w, https://olinkirk.land/media/posts/19/responsive/beeplugin_languages-md.png 768w, https://olinkirk.land/media/posts/19/responsive/beeplugin_languages-lg.png 1200w" sizes="(min-width: 56.25em) 100vw, (min-width: 37.5em) 50vw, 100vw" loading="eager" height="311" width="600" alt=""></figure><div class="post__inner"><div class="post__entry"><p>I usually just hardcode the text on buttons, menus, and text fields. This is fast and for most of my purposes definitely good enough, but makes any app really hard to translate into different languages.</p><p>In my professional career as a software developer, I've come across a couple different methods of implementing localization and wanted to try implementing a simple form of it for my Worldmaker app. I decided on three objectives.</p><ol><li>Accessing strings needs to be simple. <code>LanguageManager.getText("foo", [], 0, false)</code> is ugly and confusing. Much easier:Â <code>Local.text("foo")</code></li><li>It has to be in JSON. No XML, no custom arrangement, just simple JSON that can be parsed in. I also happen to know the popular localization web platform <a href="https://poeditor.com/" target="_blank" rel="noopener noreferrer">POEditor</a> lets you import JSON which means outsourcing newly added languages would be a breeze.</li><li>Adding new dictionaries and language entries should be straightforward. If I want to localize to a new language, I should be able to easily scale up my dictionaries to meet that need.</li></ol><p>First, I created a class called <code>Local.as</code> which stores all the logic needed for the dictionaries and language-related string manipulation.</p><p>Let's break down what the class does. <code>Local.as</code> contains references to the JSON dictionaries, a property to keep track of the selected language, and the current dictionary of keys and terms.</p><p>Apart from that, a function <code>set language(id:String)</code> sets the selected language and loads the appropriate dictionary, while the static function <code>get text(id:String, args:Array = null):String</code> allows other classes to easily access the current dictionary's key entries. If an unknown key is accessed, a trace lets me know exactly what key is missing so I can enter it into the dictionary.</p><p>I implemented a little popup to change the language - finally the options button on the navigation bar has some use! I added pig-latin after a suggestion from a friend for testing purposes; it's easier to produce pig-latin on the fly than German or French and it looks better than lorem ipsum.</p><figure class="post__image post__image--center"><img loading="lazy" src="https://olinkirk.land/media/posts/19/adl_2021-07-07_22-32-57.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://olinkirk.land/media/posts/19/responsive/adl_2021-07-07_22-32-57-xs.png 300w, https://olinkirk.land/media/posts/19/responsive/adl_2021-07-07_22-32-57-sm.png 480w, https://olinkirk.land/media/posts/19/responsive/adl_2021-07-07_22-32-57-md.png 768w" alt="" width="487" height="276"><figcaption>The highly awaited options popup</figcaption></figure><figure class="post__image"><img loading="lazy" src="https://olinkirk.land/media/posts/19/Untitled.png" sizes="(max-width: 48em) 100vw, 100vw" srcset="https://olinkirk.land/media/posts/19/responsive/Untitled-xs.png 300w, https://olinkirk.land/media/posts/19/responsive/Untitled-sm.png 480w, https://olinkirk.land/media/posts/19/responsive/Untitled-md.png 768w" alt="" width="882" height="860"><figcaption>Left: English, Right: Pig-latin</figcaption></figure><p>I'm very happy with how it turned out. One thing that I want to address in the future is the ability to change the language without having to reload the app.</p></div><footer><div class="post__tags-share"><ul class="post__tag"><li><a href="https://olinkirk.land/tag/blog/">Blog</a></li><li><a href="https://olinkirk.land/tag/worldmaker/">Worldmaker</a></li></ul><aside class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Folinkirk.land%2Flocalization%2F" class="js-share facebook" aria-label="Share with Facebook" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://olinkirk.land/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://twitter.com/share?url=https%3A%2F%2Folinkirk.land%2Flocalization%2F&amp;via=%40itsOlinKirkland&amp;text=Localization" class="js-share twitter" aria-label="Share with Twitter" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://olinkirk.land/assets/svg/svg-map.svg#twitter"/></svg></a></aside></div><nav class="post__nav"><div class="post__nav__prev"><a class="post__nav__link" href="https://olinkirk.land/tectonic-plates/" rel="prev">Previous Post<h3 class="h6">Tectonic Plates</h3></a></div><div class="post__nav__next"><a class="post__nav__link" href="https://olinkirk.land/realms/" rel="prev">Next Post<h3 class="h6">Realms, A Journey into Procedurally Generated Maps</h3></a></div></nav></footer></div></article></div></main><footer class="footer"><div class="footer__social"><a href="https://twitter.com/itsOlinKirkland" aria-label="Twitter" class="twitter"><svg><use xlink:href="https://olinkirk.land/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://www.instagram.com/olinkirkland/" aria-label="Instagram" class="instagram"><svg><use xlink:href="https://olinkirk.land/assets/svg/svg-map.svg#instagram"/></svg> </a><a href="https://www.linkedin.com/in/olin-kirkland-10483078/" aria-label="LinkedIn" class="linkedin"><svg><use xlink:href="https://olinkirk.land/assets/svg/svg-map.svg#linkedin"/></svg></a></div><div class="footer__copyright">&copy; 2020 Olin Kirkland | Made with Publii Open-Source CMS</div></footer><script>window.publiiThemeMenuConfig = {    
      mobileMenuMode: 'sidebar',
      animationSpeed: 300,
      submenuWidth: 'auto',
      doubleClickTime: 500,
      mobileMenuExpandableSubmenus: true, 
      relatedContainerForOverlayMenuSelector: '.navbar',
   };</script><script defer="defer" src="https://olinkirk.land/assets/js/scripts.min.js?v=8b3e67b51e8c7a7d51b33f4a94ae4287"></script><script>var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }</script><script id="dsq-count-scr" src="https://olinkirkland.disqus.com/count.js" async></script></body></html>